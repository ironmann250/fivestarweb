{% load static %}
{% load staticfiles %}
<!DOCTYPE html>
<html class="h-100" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>5Star logistics · Search</title>



    <!-- Bootstrap core CSS -->
<link href="{% static '/static/css/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static '/static/css/bootstrap-table.min.css' %}" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->

  </head>
  <body class="d-flex flex-column h-100">
  <header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="#">5Star Logistics</a>
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="navbarCollapse" style="">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/add">Add Package <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/adminpg">Admin</a>
        </li>
      </ul>
      <form action='/search/' class="form-inline mt-2 mt-md-0">
        <input class="form-control mr-sm-2" name="keyword" type="text" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
  </nav>
</header>
    <!-- Begin page content -->

  <div class="container">
    <center><h1 class="mt-5" class="">Packages</h1></center>
    <table id="table" class="table"
  data-search="true">
  <thead><tr>
<th>Package Num</th>
<th>Sender</th>
<th>Phone</th>
<th>Receiver</th>
<th>Phone</th>
<th>Weight</th>
<th>Price</th>
<th>Destination</th>
<th>Date</th>
</tr></thead>
<tbody>
{% for package in packages %}
<tr>
  <td><a href='/added/{{package.packagenum}}'>{{package.packagenum}}</a></td>
  <td>{{package.sender_name}}</td>
  <td>{{package.sender_phone}}</td>
  <td>{{package.receiver_name}}</td>
  <td>{{package.receiver_phone}}</td>
  <td>{{package.init_weight}}</td>
  <td>{{package.init_price}}</td>
  <td>{{package.destination}}</td>
  <td>{{package.creation_date}}</td>
</tr>
{% endfor %}
</tbody>
    </table>
  </div>


<footer class="footer mt-auto py-3">
  <div class="container">
  <center>
    <span class="text-muted d-block">© Copyright 2018 5Star - All rights reserved.</span>
  </center>
  </div>
</footer>
<script src="{% static '/static/js/jquery-3.3.1.slim.min.js' %}"></script>
<script src="{% static '/static/js/popper.min.js' %}"></script>
<script src="{% static '/static/js/bootstrap.min.js' %}"></script>
<script src="{% static '/static/js/bootstrap-table.min.js' %}"></script>
<script>
// use ajax json 
var url_string = window.location.href;
var urll = new URL(url_string);
var keyword = urll.searchParams.get("keyword");

$('#tablle').bootstrapTable({
  url:"/searchapi/?keyword=null",
  method: 'get',  
  pagination: true,
  search: true,                    
  striped: true,
  columns: [
  {
    field: 'packagenum',
    title: 'Package Num'
  },{
    field: 'sender_name',
    title: 'Sender'
  },{
    field: 'sender_phone',
    title: 'Phone'
  },{
    field: 'receiver_name',
    title: 'Receiver'
  }, {
    field: 'receiver_phone',
    title: 'Phone'
  },
   {
    field: 'destination',
    title: 'Destination'
  }, {
    field: 'weight',
    title: 'Weight'
  }, {
    field: 'price',
    title: 'Price'
  }, {
    field: 'date',
    title: 'Date'
  }]
})
</script>

</body></html>